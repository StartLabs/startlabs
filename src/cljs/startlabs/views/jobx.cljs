;;This file autogenerated from 
;;
;;  src/cljx/startlabs/views/jobx.cljx
;;
^{:cljs true, :line 6} (ns startlabs.views.jobx ^{:line 7} (:require [singult.core :as s]))
^{:cljs true, :line 10} (defn is-email? [v] ^{:line 11} (re-matches #"(?i)[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?" v))
^{:cljs true, :line 14} (def markdownify markdown/mdToHtml)
^{:line 16} (defn is-phone? "Naive, really just checks that the characters are only numbers, digits, dashes, parens, or dots." [v] ^{:line 19} (re-matches #"^[\d-\.\(\)\s]{7,15}$" v))
^{:line 21} (defn is-www? "Checks if site begins with www. (but not http)" [v] ^{:line 24} (not ^{:line 24} (nil? ^{:line 24} (re-find #"^www\." v))))
^{:line 26} (defn linkify "Converts an email address, telephone number, or url into a proper link\n   to be used as the href attribute in an HTML anchor." [text] ^{:line 30} (str ^{:line 31} (condp apply [text] is-email? "mailto:" is-phone? "tel://" is-www? "http://" nil) text))
^{:line 39} (defn job-delete-modal [job] [:div {:id ^{:line 40} (str "delete-" ^{:line 40} (:id job)), :class "modal hide fade", :tabindex "-1", :role "dialog", :aria-hidden true} [:div.modal-header [:button.close {:type "button", :data-dismiss "modal", :aria-hidden true} "&times;"] [:h3 "Are you sure you want to remove this job?"]] [:div.modal-body [:p ^{:line 45} (:company job) ": " ^{:line 45} (:position job)] [:p "This will hide it from the listing."]] [:form.modal-footer {:action ^{:line 47} (str "/job/" ^{:line 47} (:id job) "/delete"), :method "post"} [:a.btn {:href "#", :data-dismiss "modal", :aria-hidden true} "Whoops, never mind."] [:input.btn.btn-danger {:type "submit", :value "Yes, Remove it."}]]])
^{:line 51} (defn job-summary [job-info show-delete?] [:div.job-summary ^{:line 53} (if show-delete? [:a.btn.btn-danger.pull-right {:href ^{:line 55} (str "#delete-" ^{:line 55} (:id job-info)), :role "button", :data-toggle "modal"} "Delete"]) [:h2 [:a {:href ^{:line 58} (or ^{:line 58} (linkify ^{:line 58} (:website job-info)) "#")} ^{:line 58} (:company job-info) ":"] [:small " " ^{:line 59} (:position job-info)]] [:div.row-fluid.dateloc [:div.span6 [:i.icon.icon-calendar] ^{:line 63} (:start_date job-info) " â€” " ^{:line 63} (:end_date job-info)] [:div.span6 [:i.icon.icon-map-marker] ^{:line 64} (:location job-info)]] [:a.read {:href ^{:line 64} (str "#" ^{:line 64} (:id job-info))} "Read More..."]])
^{:line 66} (defn job-card [job-info show-delete?] [:div.job-info {:onclick ^{:line 67} (str "_gaq.push(['_trackEvent', 'Jobs', 'More', '" ^{:line 67} (:id job-info) "']);")} ^{:line 68} (if show-delete? ^{:line 68} (job-delete-modal job-info)) ^{:line 69} (job-summary job-info show-delete?) [:div.row-fluid.more [:div.description ^{:line 73} (markdownify ^{:line 73} (:description job-info))] ^{:line 75} (if show-delete? [:p [:a {:href ^{:line 76} (str "/job/" ^{:line 76} (:id job-info) "/edit")} "Send edit link to author"]]) [:div.well.well-small "Contact: " [:i.icon.icon-envelope] ^{:line 81} (let [contact-info ^{:line 81} (:contact_info job-info)] [:a {:href ^{:line 83} (linkify contact-info), :onclick ^{:line 83} (str "_gaq.push(['_trackEvent', 'Jobs', 'Contact', '" ^{:line 83} (:id job-info) "']);")} contact-info])]]])
^{:line 86} (defn half-list [half-jobs show-delete?] [:div.span6 ^{:line 88} (for [job half-jobs] [:div.job.thumbnail {:id ^{:line 89} (:id job)} ^{:line 90} (job-card job show-delete?)])])
^{:line 92} (defn job-list [jobs show-delete?] ^{:line 93} (let [[left-jobs right-jobs] ^{:line 93} (split-at ^{:line 93} (/ ^{:line 93} (count jobs) 2) jobs)] [:div#job-list.span12 ^{:line 95} (half-list left-jobs show-delete?) ^{:line 96} (half-list right-jobs show-delete?)]))